# continent
Continent 플러그인은 마인크래프트 서버에서 국가 체계와 경제 시스템을 제공하는 통합 플러그인입니다.

## 주요 기능
- **크라운 경제 시스템**
  `/crown balance`로 보유 크라운을 확인하고 `exchange`로 금괴나 다이아를 크라운으로 환전하거나 `convert`로 크라운으로 금괴·다이아를 구매할 수 있습니다. `pay` 하위 명령으로 플레이어 간 크라운 송금도 지원합니다.
- **중앙은행**  
  거래량에 따라 환율이 변동되며 서버 종료 시 `centralbank.yml`에 환율이 저장됩니다.
- **국가 관리**
  `/nation` 명령을 통해 국가 생성(`create`)과 해산(`disband`), 영토 점령/해제(`claim`, `unclaim`), 초대(`invite`, `accept`, `deny`, `invites`)와 추방(`kick`), 구성원 목록(`members`), 탈퇴(`leave`), 국가명 변경(`rename`), 색상 변경(`color`), 국가 금고 관리(`treasury balance|deposit|withdraw`), 스폰 설정 및 이동(`setspawn`, `spawn`), 코어 위치 지정(`setcore`), 국가 창고(`chest`), 인벤토리 기반의 관리 메뉴(`menu`), 점화 허용 토글(`ignite`), 국가 채팅 토글(`chat`), 명령 확인(`confirm`), 서버 내 국가 목록(`list`) 등 모든 행정 명령이 제공됩니다.
- **국가 창고**
  27칸의 전용 인벤토리를 제공하며 내용물은 자동 저장됩니다.
- **영토 및 코어 보호**  
  다른 국가의 영토에서는 블록 파괴와 설치뿐만 아니라 상자 열기, 양동이 사용, 농작물 짓밟기, 폭발 등 다양한 상호 작용이 차단됩니다. 코어 블록 역시 파괴나 폭발로부터 보호되며, 국가 생성 직후 일정 기간은 추가 보호 상태가 적용됩니다.
- **국가 채팅 및 로그**
  국가별 전용 채팅을 제공하며, 모든 메시지는 `plugins/Continent/nation-logs` 폴더에 기록됩니다.
- **스코어보드**
  플레이어의 크라운, 소속 국가, 미니맵(국가 점령지는 기본 연두색(&a) 표시), 서버 주소 등을 실시간으로 보여 주는 스코어보드가 일정 간격으로 갱신됩니다.
- **전쟁 시스템**
 국가의 촌장은 `/war declare <국가명>` 명령으로 다른 국가에 전쟁을 선포할 수 있습니다. 선포 시 `config.yml`의 `war.declare-cost` 만큼 국가 금고에서 크라운이 차감되며 두 국가 사이에서만 영토 파괴와 코어 공격이 허용됩니다. `/war status`로 현재 전쟁의 공격측과 방어측을 확인할 수 있고 `/war surrender`로 항복할 수 있습니다.
 코어의 체력이 0이 되면 해당 국가은 전쟁에서 패배합니다.
- **연구 시스템**
  국가의 코어 블록을 우클릭하면 연구 GUI가 열리며 연구 진행 정보는 국가별로 저장됩니다. 연구는 누구나 수행할 수 있고 비용은 국가 금고에서 차감됩니다.
- **주간 유지비**
  매주 유지비가 국고에서 차감되며 미납이 일정 주 이상 쌓이면 국가이 해산됩니다. 접속 시 지난 납부 내역이 안내됩니다.
- **영토 침입 경고**
  다른 국가 영토에 침입하면 해당 국가 구성원에게 경고가 반복 전송되고 침입자는 발광 효과가 적용됩니다.
- **데이터 지속성**
  플레이어와 국가 정보는 `plugins/Continent/players`와 `nations` 폴더에 YAML 형식으로 저장되어 서버 재시작 후에도 유지됩니다.
- **사망 시 레벨 보존**
  플레이어가 죽어도 현재 경험치 레벨은 유지되며 경험치는 드롭되지 않습니다.
- **확인 시스템**
  위험한 명령은 `/nation confirm`을 통해 한 번 더 확인하도록 하여 실수로 인한 피해를 방지합니다.
- **관리자 명령어**
  `/admin war list`로 현재 전쟁을 확인하거나 `war start`로 전쟁을 시작할 수 있습니다. `war end`와 `war info`도 제공합니다.
  `/admin rate get|set|reset` 으로 환율을 관리하며 `min`과 `max` 하위 명령어로 범위를 조정합니다.
  `/admin maintenance get` 으로 유지비 정보를 보고 `setcost`, `setperchunk`, `setlimit` 명령으로 값을 변경할 수 있습니다.
- **가이드북 명령어**
  `/guide <topic>`으로 국가와 전쟁 관련 안내서를 받을 수 있습니다. 각 토픽은 주요 명령어와 활용 팁을 여러 페이지에 걸쳐 설명하며 `/guide list`로 사용 가능한 주제를 확인할 수 있습니다.
- **기업 시스템**
  `/enterprise register` 명령으로 기업을 설립하고 운영할 수 있는 경제 시스템을 제공합니다. 자세한 내용은 `ENTERPRISE_SYSTEM.md` 문서를 참고하세요.
- **계약 시스템**
  `/enterprise contract` 명령으로 계약 목록을 확인하고 수락할 수 있습니다.
- **직업 시스템**
  `/job` 명령으로 플레이어가 원하는 직업을 선택하고 전용 메뉴에서 직업 정보를 확인할 수 있습니다.
- **시장 시스템**
  `/market` 명령을 통해 다른 플레이어가 등록한 아이템을 사고 팔 수 있는 거래소를 이용합니다.
- **연합 시스템**
  여러 국가를 하나의 연합으로 묶어 관리할 수 있으며 `/union` 명령으로 생성과 가입을 진행합니다.
- **서버 메뉴**
  `/menu` 명령으로 주요 기능을 한눈에 볼 수 있는 GUI를 열어 편리하게 명령을 사용할 수 있습니다.

## 스탯 시스템
플레이어는 힘(Strength), 민첩(Agility), 지능(Intelligence), 체력(Vitality) 네 가지 스탯을 올릴 수 있으며 행운(Luck)은 히든 스탯으로 분배할 수 없습니다.

### 포인트 획득
- 레벨 100 달성 시 처음 1포인트를 받고 이후 125, 150, 175…처럼 25레벨마다 추가 포인트가 자동 지급됩니다.
- 중복 지급을 막기 위해 마지막으로 포인트를 받은 레벨을 저장하며 100의 배수 레벨에서는 여러 개의 폭죽과 타이틀 메시지가 연출됩니다.

### 포인트 분배
- `/stat` 명령으로 현재 스탯과 남은 포인트를 확인하고 `/stat add <스탯>`으로 투자합니다.
- 기본 최대치는 10포인트이며 10포인트를 찍으면 해당 스탯의 마스터리가 해금되어 15포인트까지 올릴 수 있습니다. 마스터리는 한 종류만 선택할 수 있습니다.
- 포인트당 관련 능력치는 0.05씩 증가하고 체력 포인트는 최대 체력이 1씩 늘어납니다.

### 스탯 효과
- **힘**: 공격력이 포인트당 상승하며 5P 이상일 때 채광 도구 가속, 10P에서 공격 속도 제한 해제, 14P에서 넉백 강화, 15P에서 철괴를 들고 우클릭해 주변을 강타하는 스킬을 사용할 수 있습니다.
- **민첩**: 이동 속도 증가 및 활 차징 속도 단축, 10P부터 더블 점프와 대시, 14P에서 낙하 데미지 무시, 15P에서 공중 회피가 가능합니다.
- **지능**: 연구 시작 시 5P 이상이면 시간 15% 단축, 11~13P에서 연구 슬롯이 늘어나고 14P는 비용 20% 감소, 15P는 즉시 완성 기능을 제공합니다.
- **체력**: 포인트당 최대 체력이 증가하며 5P에서 허기 6 이상일 때 초당 0.5HP 회복, 10P에서 30% 확률로 피해 무시, 14P에서 화염·독 등 피해 감소, 15P에서 체력 20% 이하 시 자동 회복이 발동합니다.
- **행운**: 다이아몬드 등 희귀 아이템을 주울 때 10% 확률로 +1 상승하며 최대 10P까지 올라갑니다.

플레이어가 접속하거나 부활할 때 저장된 스탯이 자동 적용됩니다.

## 설정 파일
플러그인의 대부분의 세부 동작은 `continent/src/main/resources` 폴더의 YML 파일을 통해 조정할 수 있습니다. 서버 운영자는 다음 파일들을 수정하여 환경을 원하는 대로 맞출 수 있습니다.

- **config.yml** – 유지비와 스코어보드, 월드 이름, 일반 옵션을 포함합니다.
  ```yml
  maintenance:
    cost: 20            # 기본 유지비
    unpaid-limit: 2     # 미납 허용 주 수
    per-chunk-cost: 5   # 추가 청크당 비용
  scoreboard:
    title: "&aContinent Server"     # 스코어보드 제목
    minimap-size: 7                 # 미니맵 한 변의 크기
    show-coordinates: false         # 좌표 표시 여부
    refresh-interval: 0.5           # 갱신 주기(초)
  server-address: "example.com"     # 하단 서버 주소 표시
  colors:
    claimed: "&a"        # 점령지 색상
    unclaimed: "&f"      # 미점령지 색상
  symbols:
    center: "▣"         # 플레이어 위치 표시
    chunk: "▩"          # 일반 청크 표시
  lobby-world: "lobby"   # 로비 월드 이름
  land-world: "world"    # 메인 월드 이름
  war:
    declare-cost: 0      # 전쟁 선포 비용
  ```
  필요에 따라 값들을 조정하고 `/reload` 나 서버 재시작 후 적용합니다.

- **plugin.yml** – 플러그인 정보와 명령어 구성을 정의합니다. 명령어 이름이나 사용법을 수정하고 싶을 때 편집합니다.
- **research_nodes.yml** – 국가 연구 노드의 효과, 비용, 선행 조건을 자유롭게 추가하거나 수정할 수 있습니다.
- **specialties.yml** – 국가 특산품의 이름, 설명, 모델 번호 등을 관리합니다. 항목을 추가하면 게임 내에서 새로운 특산품을 만들 수 있습니다.
- **jobs.yml** – 플레이어가 선택할 수 있는 직업 목록과 설명을 정의합니다.
- **enterprise_types.yml** – 기업 업종별 표시 이름과 설립 비용을 설정합니다.

## 명령어 사용법
`/nation` 명령어는 `/k` 로도 사용할 수 있습니다.
